(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{2758:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bodypix",function(){return n(146)}])},4569:function(t,e,n){"use strict";n.d(e,{W:function(){return u}});var r=n(5893),i=n(949),o=n(3236);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t){var e=(0,i.If)().colorMode;return(0,r.jsx)(o.xu,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){c(t,e,n[e])}))}return t}({bg:{light:"gray.50",dark:"gray.700"}[e],color:{light:"black",dark:"white"}[e]},t))}},146:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x}});var r=n(5893),i=n(4569),o=n(8520),c=n.n(o),u=n(3236),a=n(6723),s=n(1247),h=n(7294),f=n(4970),l=n.n(f);n(5217),n(6537),n(343);function d(t,e,n,r,i,o,c){try{var u=t[o](c),a=u.value}catch(s){return void n(s)}u.done?e(a):Promise.resolve(a).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(t){d(o,r,i,c,u,"next",t)}function u(t){d(o,r,i,c,u,"throw",t)}c(void 0)}))}}var g="/showroom/tensorflow-playground",v=function(){var t=(0,h.useRef)(null),e=(0,h.useRef)(null),n=(0,h.useState)(),i=n[0],o=n[1];(0,h.useEffect)((function(){s.zD().then((function(t){o(t)}))}),[]);var f=p(c().mark((function t(e,n,r){var o,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(o=document.createElement("canvas")).width=e.videoWidth,o.height=e.videoHeight,u=o.getContext("2d"),function(){var t=p(c().mark((function t(){var h,f;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return requestAnimationFrame(a),t.next=3,i.segmentPerson(e);case 3:h=t.sent,f=s.oS(h),u.putImageData(f,0,0),n.drawImage(e,0,0,r.width,r.height),n.save(),n.globalCompositeOperation="destination-out",n.drawImage(o,0,0,r.width,r.height),n.restore();case 11:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()();case 5:case"end":return t.stop()}}),t)}))),d=p(c().mark((function n(r){var o,u,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=e.current.video,u=t.current,o.width=u.width=o.videoWidth,o.height=u.height=o.videoHeight,(a=u.getContext("2d")).clearRect(0,0,u.width,u.height),"pic1"===r?(u.style.backgroundImage="url(".concat(g,"/img/bodypix/pic1.jpg)"),u.style.backgroundSize="cover"):(u.style.backgroundImage="url(".concat(g,"/img/bodypix/pic2.jpg)"),u.style.backgroundSize="cover"),i&&f(o,a,u);case 8:case"end":return n.stop()}}),n)})));return(0,r.jsxs)(u.kC,{flexWrap:"wrap",children:[(0,r.jsxs)(u.xu,{position:"relative",width:"50vw",minWidth:"400px",minHeight:"300px",margin:"20px auto",overflow:"hidden",children:[(0,r.jsx)(l(),{audio:!1,ref:e,style:{position:"absolute",textAlign:"center",top:0,left:0,right:0,zIndex:9,width:"100%",height:"auto"}}),(0,r.jsx)("canvas",{ref:t,style:{position:"absolute",textAlign:"center",top:0,left:0,right:0,zIndex:9,width:"100%",height:"auto"}})]}),(0,r.jsxs)(u.xu,{margin:"20px auto",children:[(0,r.jsx)(u.xv,{as:"h4",children:"Select"}),(0,r.jsxs)(u.xu,{children:[(0,r.jsx)(a.zx,{onClick:function(){return d("pic1")},children:"Pic 1"})," ",(0,r.jsx)(a.zx,{onClick:function(){return d("pic2")},children:"Pic 2"})]})]})]})},x=function(){return(0,r.jsx)(i.W,{height:"100%",children:(0,r.jsx)(v,{})})}},5410:function(){},8628:function(){},5042:function(){}},function(t){t.O(0,[132,771,990,774,888,179],(function(){return e=2758,t(t.s=e);var e}));var e=t.O();_N_E=e}]);
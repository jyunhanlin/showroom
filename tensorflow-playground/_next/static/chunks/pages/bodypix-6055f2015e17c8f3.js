(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{2758:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bodypix",function(){return n(146)}])},4569:function(e,t,n){"use strict";n.d(t,{W:function(){return u}});var r=n(5893),i=n(980),o=n(8017);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t=(0,i.useColorMode)().colorMode;return(0,r.jsx)(o.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({bg:{light:"gray.50",dark:"gray.700"}[t],color:{light:"black",dark:"white"}[t]},e))}},146:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(5893),i=n(4569),o=n(8520),c=n.n(o),u=n(4096),a=n(8017),s=n(4115),h=n(6640),l=n(1247),d=n(7294),f=n(4970),p=n.n(f);n(5217),n(6537),n(343);function g(e,t,n,r,i,o,c){try{var u=e[o](c),a=u.value}catch(s){return void n(s)}u.done?t(a):Promise.resolve(a).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){g(o,r,i,c,u,"next",e)}function u(e){g(o,r,i,c,u,"throw",e)}c(void 0)}))}}var x="/showroom/tensorflow-playground",w=function(){var e=(0,d.useRef)(null),t=(0,d.useRef)(null),n=(0,d.useState)(),i=n[0],o=n[1];(0,d.useEffect)((function(){l.zD().then((function(e){o(e)}))}),[]);var f=v(c().mark((function e(t,n,r){var o,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=document.createElement("canvas")).width=t.videoWidth,o.height=t.videoHeight,u=o.getContext("2d"),function(){var e=v(c().mark((function e(){var s,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return requestAnimationFrame(a),e.next=3,i.segmentPerson(t);case 3:s=e.sent,h=l.oS(s),u.putImageData(h,0,0),n.drawImage(t,0,0,r.width,r.height),n.save(),n.globalCompositeOperation="destination-out",n.drawImage(o,0,0,r.width,r.height),n.restore();case 11:case"end":return e.stop()}}),e)})));function a(){return e.apply(this,arguments)}return a}()();case 5:case"end":return e.stop()}}),e)}))),g=v(c().mark((function n(r){var o,u,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=t.current.video,u=e.current,o.width=u.width=o.videoWidth,o.height=u.height=o.videoHeight,(a=u.getContext("2d")).clearRect(0,0,u.width,u.height),"pic1"===r?(u.style.backgroundImage="url(".concat(x,"/img/bodypix/pic1.jpg)"),u.style.backgroundSize="cover"):(u.style.backgroundImage="url(".concat(x,"/img/bodypix/pic2.jpg)"),u.style.backgroundSize="cover"),i&&f(o,a,u);case 8:case"end":return n.stop()}}),n)})));return(0,r.jsxs)(u.k,{flexWrap:"wrap",children:[(0,r.jsxs)(a.xu,{position:"relative",width:"50vw",minWidth:"400px",minHeight:"300px",margin:"20px auto",overflow:"hidden",children:[(0,r.jsx)(p(),{audio:!1,ref:t,style:{position:"absolute",textAlign:"center",top:0,left:0,right:0,zIndex:9,width:"100%",height:"auto"}}),(0,r.jsx)("canvas",{ref:e,style:{position:"absolute",textAlign:"center",top:0,left:0,right:0,zIndex:9,width:"100%",height:"auto"}})]}),(0,r.jsxs)(a.xu,{margin:"20px auto",children:[(0,r.jsx)(s.x,{as:"h4",children:"Select"}),(0,r.jsxs)(a.xu,{children:[(0,r.jsx)(h.z,{onClick:function(){return g("pic1")},children:"Pic 1"})," ",(0,r.jsx)(h.z,{onClick:function(){return g("pic2")},children:"Pic 2"})]})]})]})},m=function(){return(0,r.jsx)(i.W,{height:"100%",children:(0,r.jsx)(w,{})})}},5410:function(){},8628:function(){},5042:function(){}},function(e){e.O(0,[132,902,383,774,888,179],(function(){return t=2758,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
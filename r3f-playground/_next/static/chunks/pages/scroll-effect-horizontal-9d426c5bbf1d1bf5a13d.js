(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{9584:function(e,t,r){"use strict";r.d(t,{E:function(){return f}});var n=r(7462),o=r(7294),s=r(5648),c=r(9137),i=r(2212);const a=e=>e===Object(e)&&!Array.isArray(e)&&"function"!==typeof e;function l(e){const t=(0,s.Ky)((e=>e.gl)),r=(0,s.U2)(i.TextureLoader,a(e)?Object.values(e):e);if((0,o.useEffect)((()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)}),[t,r]),a(e)){const t=Object.keys(e),n={};return t.forEach((e=>Object.assign(n,{[e]:r[t.indexOf(e)]}))),n}return r}l.preload=e=>s.U2.preload(i.TextureLoader,e),l.clear=e=>s.U2.clear(i.TextureLoader,e);const u=(0,c.g)({scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0},"\n  varying vec2 vUv;\n  void main() {\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n    vUv = uv;\n  }\n","\n  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\n  varying vec2 vUv;\n  uniform vec2 scale;\n  uniform vec2 imageBounds;\n  uniform sampler2D map;\n  uniform float zoom;\n  uniform float grayscale;\n  const vec3 luma = vec3(.299, 0.587, 0.114);\n  vec4 toGrayscale(vec4 color, float intensity) {\n    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\n  }\n  vec2 aspect(vec2 size) {\n    return size / min(size.x, size.y);\n  }\n  void main() {\n    vec2 s = aspect(scale);\n    vec2 i = aspect(imageBounds);\n    float rs = s.x / s.y;\n    float ri = i.x / i.y;\n    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\n    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\n    vec2 uv = vUv * s / new + offset;\n    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\n    gl_FragColor = toGrayscale(texture2D(map, zUv), grayscale);\n  }\n"),f=o.forwardRef((({segments:e=1,scale:t=1,zoom:r=1,grayscale:c=0,url:i,...a},f)=>{(0,s.l7)({ImageMaterial:u});const p=l(i),d=Array.isArray(t)?[t[0],t[1]]:[t,t],v=[p.image.width,p.image.height];return o.createElement("mesh",(0,n.Z)({ref:f,scale:t},a),o.createElement("planeGeometry",{args:[1,1,e,e]}),o.createElement("imageMaterial",{map:p,zoom:r,grayscale:c,scale:d,imageBounds:v}))}))},9137:function(e,t,r){"use strict";r.d(t,{g:function(){return o}});var n=r(2212);function o(e,t,r,o){return class extends n.ShaderMaterial{constructor(){const s=Object.entries(e);super({uniforms:s.reduce(((e,[t,r])=>({...e,...n.UniformsUtils.clone({[t]:{value:r}})})),{}),vertexShader:t,fragmentShader:r}),s.forEach((([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t}))),o&&o(this)}}}},1758:function(e,t,r){"use strict";r.d(t,{Xs:function(){return p},Fq:function(){return f},vO:function(){return u}});var n=r(7462),o=r(2212),s=r(7294),c=r(3935),i=r(5648),a=r(5878);const l=s.createContext(null);function u(){return s.useContext(l)}function f({eps:e=1e-5,infinite:t,horizontal:r,pages:n=1,distance:c=1,damping:a=4,children:u}){const f=(0,i.Ky)((e=>e.gl)),p=(0,i.Ky)((e=>e.invalidate)),d=(0,i.Ky)((e=>e.events)),v=(0,i.Ky)((e=>e.raycaster)),[g]=s.useState((()=>document.createElement("div"))),[h]=s.useState((()=>document.createElement("div"))),[y]=s.useState((()=>document.createElement("div"))),m=f.domElement.parentNode,x=s.useRef(0),O=s.useMemo((()=>({el:g,eps:e,fill:h,fixed:y,horizontal:r,damping:a,offset:0,delta:0,scroll:x,pages:n,range(e,t){const r=e+t;return this.offset<e?0:this.offset>r?1:(this.offset-e)/(r-e)},visible(e,t){const r=e+t;return this.offset>=e&&this.offset<=r}})),[e,a,r,n]);s.useEffect((()=>{g.style.position="absolute",g.style.width="100%",g.style.height="100%",g.style[r?"overflowX":"overflowY"]="auto",g.style.top="0px",g.style.left="0px",y.style.position="sticky",y.style.top="0px",y.style.left="0px",g.appendChild(y),h.style.height=r?"100%":n*c*100+"%",h.style.width=r?n*c*100+"%":"100%",h.style.pointerEvents="none",g.appendChild(h);const e=e=>{if(p(),x.current=r?e.target.scrollLeft/(e.target.scrollWidth-e.target.clientWidth):e.target.scrollTop/(e.target.scrollHeight-e.target.clientHeight),t)if(1===x.current){const t=1-O.offset;e.target[r?"scrollLeft":"scrollTop"]=0,x.current=O.offset=-t}else if(0===x.current){const t=1+O.offset;e.target[r?"scrollLeft":"scrollTop"]=e.target[r?"scrollWidth":"scrollHeight"],x.current=O.offset=t}};return g.addEventListener("scroll",e,{passive:!0}),m.appendChild(g),requestAnimationFrame((()=>null==d.connect?void 0:d.connect(g))),v.computeOffsets=({clientX:e,clientY:t})=>({offsetX:e,offsetY:t}),()=>{m.removeChild(g),g.removeEventListener("scroll",e)}}),[t,O,p,c,a,n,r]);let b=0;return(0,i.xQ)(((t,r)=>{O.offset=o.MathUtils.damp(b=O.offset,x.current,a,r),O.delta=o.MathUtils.damp(O.delta,Math.abs(b-O.offset),a,r),O.delta>e&&p()})),s.createElement(l.Provider,{value:O},u)}const p=s.forwardRef((({html:e,...t},r)=>{const o=e?v:d;return s.createElement(o,(0,n.Z)({ref:r},t))})),d=s.forwardRef((({children:e},t)=>{const r=s.useRef(null),n=u(),{width:o,height:c}=(0,i.Ky)((e=>e.viewport));return(0,i.xQ)((()=>{r.current.position.x=n.horizontal?-o*(n.pages-1)*n.offset:0,r.current.position.y=n.horizontal?0:c*(n.pages-1)*n.offset})),s.createElement("group",{ref:(0,a.Z)([t,r])},e)})),v=s.forwardRef((({children:e,style:t,...r},o)=>{const f=u(),p=s.useRef(null),{width:d,height:v}=(0,i.Ky)((e=>e.size)),g=s.useContext(i.Do);return(0,i.xQ)((()=>{f.delta>f.eps&&(p.current.style.transform=`translate3d(${f.horizontal?-d*(f.pages-1)*f.offset:0}px,${f.horizontal?0:v*(f.pages-1)*-f.offset}px,0)`)})),c.render(s.createElement("div",(0,n.Z)({ref:(0,a.Z)([o,p]),style:{...t,position:"absolute",top:0,left:0,willChange:"transform"}},r),s.createElement(l.Provider,{value:f},s.createElement(i.Do.Provider,{value:g},e))),f.fixed),null}))},5647:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var n=r(2809),o=r(980),s=r(8017),c=r(5893);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var a=function(e){var t=(0,o.useColorMode)().colorMode;return(0,c.jsx)(s.xu,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({bg:{light:"gray.50",dark:"gray.700"}[t],color:{light:"black",dark:"white"}[t]},e))}},5475:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(5647),o=r(2809);function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=r(1758),i=r(9584),a=r(5648),l=r(7294),u=r(2212),f=r(5893),p=["index","position","scale","c"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=u.MathUtils.damp,h=[1,2,3,4,5,6,7,8,9,10,11,12,1,5,7,8,2,4,9,6].map((function(e){return"".concat("/showroom/r3f-playground","/img/scroll-effect-horizontal/").concat(e,".jpg")}));function y(e){var t=e.index,r=e.position,n=e.scale,o=e.c,d=void 0===o?new u.Color:o,y=s(e,p),m=(0,l.useRef)(),x=(0,c.vO)(),O=(0,l.useState)(!1),b=O[0],w=O[1];return(0,a.xQ)((function(e,r){var o,s=Math.sin(x.range(t/h.length-.08,4/h.length)*Math.PI);m.current.material.scale[1]=m.current.scale.y=g(m.current.scale.y,4+s,8,r),m.current.material.scale[0]=m.current.scale.x=g(m.current.scale.x,n[0],6,r),m.current.material.grayscale=g(m.current.material.grayscale,b?0:Math.max(0,1-s),6,r),null===(o=m.current.material.color)||void 0===o||o.lerp(d.set(b?"white":"#ccc"),b?.3:.1)})),(0,f.jsx)(i.E,v(v({ref:m},y),{},{position:r,scale:n,onPointerOver:function(){return w(!0)},onPointerOut:function(){return w(!1)}}))}function m(e){var t=e.w,r=void 0===t?.7:t,n=e.gap,o=void 0===n?.15:n,s=(0,a.Ky)((function(e){return e.viewport})).width,i=r+o;return(0,f.jsx)(c.Fq,{horizontal:!0,damping:6,pages:(s-i+h.length*i)/s,children:(0,f.jsx)(c.Xs,{children:h.map((function(e,t){return(0,f.jsx)(y,{index:t,position:[t*i,0,0],scale:[r,4,1],url:e},t)}))})})}var x=function(){return(0,f.jsx)(a.Xz,{gl:{antialias:!1},dpr:[1,1.5],children:(0,f.jsx)(l.Suspense,{fallback:null,children:(0,f.jsx)(m,{})})})},O=function(){return(0,f.jsx)(n.W,{height:"100%",children:(0,f.jsx)(x,{})})}},4148:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scroll-effect-horizontal",function(){return r(5475)}])}},function(e){e.O(0,[737,328,648,774,888,179],(function(){return t=4148,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
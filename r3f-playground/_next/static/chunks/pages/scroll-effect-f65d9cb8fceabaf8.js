(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{9212:function(e,t,r){"use strict";r.d(t,{E:function(){return f}});var n=r(7462),o=r(7294),s=r(2212),c=r(1823),i=r(9137);const l=e=>e===Object(e)&&!Array.isArray(e)&&"function"!==typeof e;function a(e){const t=(0,c.Ky)((e=>e.gl)),r=(0,c.U2)(s.TextureLoader,l(e)?Object.values(e):e);if((0,o.useEffect)((()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)}),[t,r]),l(e)){const t=Object.keys(e),n={};return t.forEach((e=>Object.assign(n,{[e]:r[t.indexOf(e)]}))),n}return r}a.preload=e=>c.U2.preload(s.TextureLoader,e),a.clear=e=>c.U2.clear(s.TextureLoader,e);const u=(0,i.g)({color:new s.Color("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0},"\n  varying vec2 vUv;\n  void main() {\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n    vUv = uv;\n  }\n","\n  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\n  varying vec2 vUv;\n  uniform vec2 scale;\n  uniform vec2 imageBounds;\n  uniform vec3 color;\n  uniform sampler2D map;\n  uniform float zoom;\n  uniform float grayscale;\n  const vec3 luma = vec3(.299, 0.587, 0.114);\n  vec4 toGrayscale(vec4 color, float intensity) {\n    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\n  }\n  vec2 aspect(vec2 size) {\n    return size / min(size.x, size.y);\n  }\n  void main() {\n    vec2 s = aspect(scale);\n    vec2 i = aspect(imageBounds);\n    float rs = s.x / s.y;\n    float ri = i.x / i.y;\n    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\n    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\n    vec2 uv = vUv * s / new + offset;\n    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\n    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, 1.0), grayscale);\n  }\n"),f=o.forwardRef((({children:e,color:t,segments:r=1,scale:s=1,zoom:i=1,grayscale:l=0,url:f,...d},m)=>{(0,c.l7)({ImageMaterial:u});const v=a(f),h=Array.isArray(s)?[s[0],s[1]]:[s,s],p=[v.image.width,v.image.height];return o.createElement("mesh",(0,n.Z)({ref:m,scale:s},d),o.createElement("planeGeometry",{args:[1,1,r,r]}),o.createElement("imageMaterial",{color:t,map:v,zoom:i,grayscale:l,scale:h,imageBounds:p}),e)}))},9137:function(e,t,r){"use strict";r.d(t,{g:function(){return o}});var n=r(2212);function o(e,t,r,o){return class extends n.ShaderMaterial{constructor(){const s=Object.entries(e);super({uniforms:s.reduce(((e,[t,r])=>({...e,...n.UniformsUtils.clone({[t]:{value:r}})})),{}),vertexShader:t,fragmentShader:r}),s.forEach((([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t}))),o&&o(this)}}}},1758:function(e,t,r){"use strict";r.d(t,{Xs:function(){return v},Fq:function(){return f},vO:function(){return u}});var n=r(7462),o=r(2212),s=r(7294),c=r(3935),i=r(1823),l=r(5878);const a=s.createContext(null);function u(){return s.useContext(a)}function f({eps:e=1e-5,enabled:t=!0,infinite:r,horizontal:n,pages:c=1,distance:l=1,damping:u=4,children:f}){const{gl:d,size:m,invalidate:v,events:h,raycaster:p}=(0,i.Ky)(),[g]=s.useState((()=>document.createElement("div"))),[y]=s.useState((()=>document.createElement("div"))),[x]=s.useState((()=>document.createElement("div"))),w=d.domElement.parentNode,b=s.useRef(0),E=s.useMemo((()=>({el:g,eps:e,fill:y,fixed:x,horizontal:n,damping:u,offset:0,delta:0,scroll:b,pages:c,range(e,t,r=0){const n=e-r,o=n+t+2*r;return this.offset<n?0:this.offset>o?1:(this.offset-n)/(o-n)},curve(e,t,r=0){return Math.sin(this.range(e,t,r)*Math.PI)},visible(e,t,r=0){const n=e-r,o=n+t+2*r;return this.offset>=n&&this.offset<=o}})),[e,u,n,c]);s.useEffect((()=>{g.style.position="absolute",g.style.width="100%",g.style.height="100%",g.style[n?"overflowX":"overflowY"]="auto",g.style[n?"overflowY":"overflowX"]="hidden",g.style.top="0px",g.style.left="0px",x.style.position="sticky",x.style.top="0px",x.style.left="0px",x.style.width="100%",x.style.height="100%",x.style.overflow="hidden",g.appendChild(x),y.style.height=n?"100%":c*l*100+"%",y.style.width=n?c*l*100+"%":"100%",y.style.pointerEvents="none",g.appendChild(y),w.appendChild(g),g[n?"scrollLeft":"scrollTop"]=1;const e="boolean"!==typeof h.connected?h.connected:d.domElement;requestAnimationFrame((()=>null==h.connect?void 0:h.connect(g)));const t=p.computeOffsets;return p.computeOffsets=({clientX:e,clientY:t})=>({offsetX:e-w.offsetLeft,offsetY:t-w.offsetTop}),()=>{w.removeChild(g),p.computeOffsets=t,null==h.connect||h.connect(e)}}),[c,l,n,g,y,x,w]),s.useEffect((()=>{const e=m[n?"width":"height"],o=g[n?"scrollWidth":"scrollHeight"],s=o-e;let c=0,i=!0,l=!0;const a=e=>{if(t&&!l&&(v(),c=g[n?"scrollLeft":"scrollTop"],b.current=c/s,r)){if(!i)if(c>=s){const e=1-E.offset;g[n?"scrollLeft":"scrollTop"]=1,b.current=E.offset=-e,i=!0}else if(c<=0){const e=1+E.offset;g[n?"scrollLeft":"scrollTop"]=o,b.current=E.offset=e,i=!0}i&&setTimeout((()=>i=!1),40)}};g.addEventListener("scroll",a,{passive:!0}),requestAnimationFrame((()=>l=!1));const u=e=>g.scrollLeft+=e.deltaY/2;return n&&g.addEventListener("wheel",u,{passive:!0}),()=>{g.removeEventListener("scroll",a),n&&g.removeEventListener("wheel",u)}}),[g,m,r,E,v,n]);let j=0;return(0,i.xQ)(((t,r)=>{E.offset=o.MathUtils.damp(j=E.offset,b.current,u,r),E.delta=o.MathUtils.damp(E.delta,Math.abs(j-E.offset),u,r),E.delta>e&&v()})),s.createElement(a.Provider,{value:E},f)}const d=s.forwardRef((({children:e},t)=>{const r=s.useRef(null),n=u(),{width:o,height:c}=(0,i.Ky)((e=>e.viewport));return(0,i.xQ)((()=>{r.current.position.x=n.horizontal?-o*(n.pages-1)*n.offset:0,r.current.position.y=n.horizontal?0:c*(n.pages-1)*n.offset})),s.createElement("group",{ref:(0,l.Z)([t,r])},e)})),m=s.forwardRef((({children:e,style:t,...r},o)=>{const f=u(),d=s.useRef(null),{width:m,height:v}=(0,i.Ky)((e=>e.size)),h=s.useContext(i.Do);return(0,i.xQ)((()=>{f.delta>f.eps&&(d.current.style.transform=`translate3d(${f.horizontal?-m*(f.pages-1)*f.offset:0}px,${f.horizontal?0:v*(f.pages-1)*-f.offset}px,0)`)})),c.render(s.createElement("div",(0,n.Z)({ref:(0,l.Z)([o,d]),style:{...t,position:"absolute",top:0,left:0,willChange:"transform"}},r),s.createElement(a.Provider,{value:f},s.createElement(i.Do.Provider,{value:h},e))),f.fixed),null})),v=s.forwardRef((({html:e,...t},r)=>{const o=e?m:d;return s.createElement(o,(0,n.Z)({ref:r},t))}))},8100:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scroll-effect",function(){return r(9586)}])},4569:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(5893),o=r(949),s=r(3236);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){var t=(0,o.If)().colorMode;return(0,n.jsx)(s.xu,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({bg:{light:"gray.50",dark:"gray.700"}[t],color:{light:"black",dark:"white"}[t]},e))}},9586:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(5893),o=r(4569),s=r(3236),c=r(1758),i=r(9212),l=r(2212),a=r(7294),u=r(1823);function f({all:e,scene:t,camera:r}){const n=(0,u.Ky)((({gl:e})=>e)),o=(0,u.Ky)((({camera:e})=>e)),s=(0,u.Ky)((({scene:e})=>e));return a.useLayoutEffect((()=>{const c=[];e&&(t||s).traverse((e=>{!1===e.visible&&(c.push(e),e.visible=!0)})),n.compile(t||s,r||o);const i=new l.WebGLCubeRenderTarget(128);new l.CubeCamera(.01,1e5,i).update(n,t||s),i.dispose(),c.forEach((e=>e.visible=!1))}),[]),null}var d=r(2228),m=function(){var e=(0,u.Ky)((function(e){return e.viewport})),t=e.width,r=e.height,o=(0,c.vO)(),s=(0,a.useRef)();return(0,u.xQ)((function(){s.current.children[0].material.zoom=1+o.range(0,1/3)/3,s.current.children[1].material.zoom=1+o.range(0,1/3)/3,s.current.children[2].material.zoom=1+o.range(1.15/3,1/3)/3,s.current.children[3].material.zoom=1+o.range(1.15/3,1/3)/2,s.current.children[4].material.zoom=1+o.range(1.25/3,1/3)/1,s.current.children[5].material.zoom=1+o.range(.6,1/3)/3,s.current.children[5].material.grayscale=1-o.range(1.6/3,1/3),s.current.children[6].material.zoom=1+(1-o.range(2/3,1/3))/3})),(0,n.jsxs)("group",{ref:s,children:[(0,n.jsx)(i.E,{position:[-2,0,0],scale:[4,r,1],url:"".concat(d.u,"/img/scroll-effect/1.jpeg")}),(0,n.jsx)(i.E,{position:[2,0,1],scale:3,url:"".concat(d.u,"/img/scroll-effect/2.jpeg")}),(0,n.jsx)(i.E,{position:[-2.3,-r,2],scale:[1,3,1],url:"".concat(d.u,"/img/scroll-effect/3.jpeg")}),(0,n.jsx)(i.E,{position:[-.6,-r,3],scale:[1,2,1],url:"".concat(d.u,"/img/scroll-effect/4.jpeg")}),(0,n.jsx)(i.E,{position:[.75,-r,3.5],scale:1.5,url:"".concat(d.u,"/img/scroll-effect/5.jpeg")}),(0,n.jsx)(i.E,{position:[0,1.5*-r,2.5],scale:[1.5,3,1],url:"".concat(d.u,"/img/scroll-effect/6.jpeg")}),(0,n.jsx)(i.E,{position:[0,2*-r-r/4,0],scale:[t,r/2,1],url:"".concat(d.u,"/img/scroll-effect/7.jpeg")})]})},v=function(){return(0,n.jsx)(u.Xz,{gl:{antialias:!1},dpr:[1,1.5],children:(0,n.jsxs)(a.Suspense,{fallback:null,children:[(0,n.jsxs)(c.Fq,{damping:4,pages:3,children:[(0,n.jsx)(c.Xs,{children:(0,n.jsx)(m,{})}),(0,n.jsxs)(c.Xs,{html:!0,children:[(0,n.jsx)(s.xv,{as:"h1",position:"absolute",top:"60vh",left:"1em",children:"First"}),(0,n.jsx)(s.xv,{position:"absolute",top:"120vh",left:"60vw",children:"Second"}),(0,n.jsx)(s.xv,{as:"h1",position:"absolute",top:"220vh",left:"10vw",fontSize:"25vw",color:"white",children:"TITLE"})]})]}),(0,n.jsx)(f,{})]})})},h=function(){return(0,n.jsx)(o.W,{height:"100%",children:(0,n.jsx)(v,{})})}},2228:function(e,t,r){"use strict";r.d(t,{u:function(){return n}});var n="/showroom/r3f-playground"}},function(e){e.O(0,[737,236,823,774,888,179],(function(){return t=8100,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
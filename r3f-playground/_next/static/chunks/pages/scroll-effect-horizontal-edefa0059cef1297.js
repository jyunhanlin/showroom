(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{9212:function(g,d,a){"use strict";a.d(d,{E:function(){return o}});var h=a(7462),b=a(7294),e=a(9477),i=a(4609),f=a(9137);let j=a=>a===Object(a)&&!Array.isArray(a)&&"function"!=typeof a;function c(a,d){let f=(0,i.w)(a=>a.gl),c=(0,i.z)(e.TextureLoader,j(a)?Object.values(a):a);if((0,b.useLayoutEffect)(()=>{null==d||d(c)},[d]),(0,b.useEffect)(()=>{let a=Array.isArray(c)?c:[c];a.forEach(f.initTexture)},[f,c]),!j(a))return c;{let g=Object.keys(a),h={};return g.forEach(a=>Object.assign(h,{[a]:c[g.indexOf(a)]})),h}}c.preload=a=>i.z.preload(e.TextureLoader,a),c.clear=a=>i.z.clear(e.TextureLoader,a);let k=(0,f.g)({color:new e.Color("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`),l=b.forwardRef(({children:e,color:f,segments:d=1,scale:a=1,zoom:g=1,grayscale:j=0,opacity:l=1,texture:c,toneMapped:m,transparent:n,...o},p)=>{(0,i.e)({ImageMaterial:k});let q=(0,i.w)(a=>a.gl),r=Array.isArray(a)?[a[0],a[1]]:[a,a],s=[c.image.width,c.image.height];return b.createElement("mesh",(0,h.Z)({ref:p,scale:a},o),b.createElement("planeGeometry",{args:[1,1,d,d]}),b.createElement("imageMaterial",{color:f,map:c,"map-encoding":q.outputEncoding,zoom:g,grayscale:j,opacity:l,scale:r,imageBounds:s,toneMapped:m,transparent:n}),e)}),m=b.forwardRef(({url:a,...d},e)=>{let f=c(a);return b.createElement(l,(0,h.Z)({},d,{texture:f,ref:e}))}),n=b.forwardRef(({url:d,...a},c)=>b.createElement(l,(0,h.Z)({},a,{ref:c}))),o=b.forwardRef((a,c)=>{if(a.url)return b.createElement(m,(0,h.Z)({},a,{ref:c}));if(a.texture)return b.createElement(n,(0,h.Z)({},a,{ref:c}));throw new Error("<Image /> requires a url or texture")})},9137:function(c,b,a){"use strict";a.d(b,{g:function(){return e}});var d=a(9477);function e(b,c,e,f){let a=class extends d.ShaderMaterial{constructor(){let a=Object.entries(b);super({uniforms:a.reduce((a,[b,c])=>{let e=d.UniformsUtils.clone({[b]:{value:c}});return{...a,...e}},{}),vertexShader:c,fragmentShader:e}),this.key="",a.forEach(([a])=>Object.defineProperty(this,a,{get:()=>this.uniforms[a].value,set:b=>this.uniforms[a].value=b})),f&&f(this)}};return a.key=d.MathUtils.generateUUID(),a}},1758:function(d,c,a){"use strict";a.d(c,{Fq:function(){return l},Xs:function(){return o},vO:function(){return k}});var e=a(7462),f=a(9477),b=a(7294),g=a(745),h=a(4609),i=a(5878);let j=b.createContext(null);function k(){return b.useContext(j)}function l({eps:g=1e-5,enabled:i=!0,infinite:k,horizontal:a,pages:c=1,distance:l=1,damping:m=4,style:v={},children:n}){let{get:w,setEvents:x,gl:o,size:p,invalidate:q,events:r}=(0,h.w)(),[d]=b.useState(()=>document.createElement("div")),[s]=b.useState(()=>document.createElement("div")),[t]=b.useState(()=>document.createElement("div")),u=o.domElement.parentNode,y=b.useRef(0),e=b.useMemo(()=>{let b={el:d,eps:g,fill:s,fixed:t,horizontal:a,damping:m,offset:0,delta:0,scroll:y,pages:c,range(d,e,b=0){let a=d-b,c=a+e+2*b;return this.offset<a?0:this.offset>c?1:(this.offset-a)/(c-a)},curve(a,b,c=0){return Math.sin(this.range(a,b,c)*Math.PI)},visible(c,d,a=0){let b=c-a;return this.offset>=b&&this.offset<=b+d+2*a}};return b},[g,m,a,c]);b.useEffect(()=>{for(let b in d.style.position="absolute",d.style.width="100%",d.style.height="100%",d.style[a?"overflowX":"overflowY"]="auto",d.style[a?"overflowY":"overflowX"]="hidden",d.style.top="0px",d.style.left="0px",v)d.style[b]=v[b];t.style.position="sticky",t.style.top="0px",t.style.left="0px",t.style.width="100%",t.style.height="100%",t.style.overflow="hidden",d.appendChild(t),s.style.height=a?"100%":`${c*l*100}%`,s.style.width=a?`${c*l*100}%`:"100%",s.style.pointerEvents="none",d.appendChild(s),u.appendChild(d),d[a?"scrollLeft":"scrollTop"]=1;let e=r.connected||o.domElement;requestAnimationFrame(()=>null==r.connect?void 0:r.connect(d));let f=w().events.compute;return x({compute(b,a){let c=b.clientX-u.offsetLeft,d=b.clientY-u.offsetTop;a.pointer.set(c/a.size.width*2-1,-(2*(d/a.size.height))+1),a.raycaster.setFromCamera(a.pointer,a.camera)}}),()=>{u.removeChild(d),x({compute:f}),null==r.connect||r.connect(e)}},[c,l,a,d,s,t,u]),b.useEffect(()=>{if(r.connected===d){let b=p[a?"width":"height"],c=d[a?"scrollWidth":"scrollHeight"],h=c-b,j=0,l=!0,m=!0,f=()=>{if(i&&!m&&(q(),j=d[a?"scrollLeft":"scrollTop"],y.current=j/h,k)){if(!l){if(j>=h){let b=1-e.offset;d[a?"scrollLeft":"scrollTop"]=1,y.current=e.offset=-b,l=!0}else if(j<=0){let f=1+e.offset;d[a?"scrollLeft":"scrollTop"]=c,y.current=e.offset=f,l=!0}}l&&setTimeout(()=>l=!1,40)}};d.addEventListener("scroll",f,{passive:!0}),requestAnimationFrame(()=>m=!1);let g=a=>d.scrollLeft+=a.deltaY/2;return a&&d.addEventListener("wheel",g,{passive:!0}),()=>{d.removeEventListener("scroll",f),a&&d.removeEventListener("wheel",g)}}},[d,r,p,k,e,q,a,i]);let z=0;return(0,h.x)((b,a)=>{e.offset=f.MathUtils.damp(z=e.offset,y.current,m,a),e.delta=f.MathUtils.damp(e.delta,Math.abs(z-e.offset),m,a),e.delta>g&&q()}),b.createElement(j.Provider,{value:e},n)}let m=b.forwardRef(({children:a},c)=>{let d=b.useRef(null),e=k(),{width:f,height:g}=(0,h.w)(a=>a.viewport);return(0,h.x)(()=>{d.current.position.x=e.horizontal?-f*(e.pages-1)*e.offset:0,d.current.position.y=e.horizontal?0:g*(e.pages-1)*e.offset}),b.createElement("group",{ref:(0,i.Z)([c,d])},a)}),n=b.forwardRef(({children:c,style:d,...f},l)=>{let a=k(),m=b.useRef(null),{width:p,height:q}=(0,h.w)(a=>a.size),n=b.useContext(h.f),o=b.useMemo(()=>g.createRoot(a.fixed),[a.fixed]);return(0,h.x)(()=>{a.delta>a.eps&&(m.current.style.transform=`translate3d(${a.horizontal?-p*(a.pages-1)*a.offset:0}px,${a.horizontal?0:-(q*(a.pages-1)*a.offset)}px,0)`)}),o.render(b.createElement("div",(0,e.Z)({ref:(0,i.Z)([l,m]),style:{...d,position:"absolute",top:0,left:0,willChange:"transform"}},f),b.createElement(j.Provider,{value:a},b.createElement(h.f.Provider,{value:n},c)))),null}),o=b.forwardRef(({html:a,...c},d)=>b.createElement(a?n:m,(0,e.Z)({ref:d},c)))},5043:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scroll-effect-horizontal",function(){return c(4635)}])},2439:function(c,b,a){"use strict";a.d(b,{W:function(){return h}});var d=a(5893),e=a(949),f=a(8527);function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var h=function(b){var a=(0,e.If)().colorMode;return(0,d.jsx)(f.xu,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){g(d,a,c[a])})}return d}({bg:{light:"gray.50",dark:"gray.700"}[a],color:{light:"black",dark:"white"}[a]},b))}},4635:function(d,b,a){"use strict";a.r(b),a.d(b,{"default":function(){return s}});var e=a(5893),f=a(2439),g=a(1758),h=a(9212),i=a(6135),j=a(4609),k=a(7294),c=a(9477),l=a(5508);function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n=c.MathUtils.damp,o=[1,2,3,4,5,6,7,8,9,10,11,12,1,5,7,8,2,4,9,6].map(function(a){return"".concat(l.u,"/img/scroll-effect-horizontal/").concat(a,".jpg")});function p(a){var q=a.index,f=a.position,i=a.scale,b=a.c,r=void 0===b?new c.Color:b,l=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["index","position","scale","c"]),p=(0,k.useRef)(),s=(0,g.vO)(),d=(0,k.useState)(!1),t=d[0],u=d[1];return(0,j.x)(function(d,a){var b,c=Math.sin(s.range(q/o.length-.08,4/o.length)*Math.PI);p.current.material.scale[1]=p.current.scale.y=n(p.current.scale.y,4+c,8,a),p.current.material.scale[0]=p.current.scale.x=n(p.current.scale.x,i[0],6,a),p.current.material.grayscale=n(p.current.material.grayscale,t?0:Math.max(0,1-c),6,a),null===(b=p.current.material.color)|| void 0===b||b.lerp(r.set(t?"white":"#ccc"),t?.3:.1)}),(0,e.jsx)(h.E,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){m(d,a,c[a])})}return d}({ref:p},l,{position:f,scale:i,onPointerOver:function(){return u(!0)},onPointerOut:function(){return u(!1)}}))}function q(a){var b=a.w,h=void 0===b?.7:b,c=a.gap,d=(0,j.w)(function(a){return a.viewport}).width,f=h+(void 0===c?.15:c);return(0,e.jsx)(g.Fq,{horizontal:!0,damping:6,pages:(d-f+o.length*f)/d,children:(0,e.jsx)(g.Xs,{children:o.map(function(b,a){return(0,e.jsx)(p,{index:a,position:[a*f,0,0],scale:[h,4,1],url:b},a)})})})}var r=function(){return(0,e.jsx)(i.Xz,{gl:{antialias:!1},dpr:[1,1.5],children:(0,e.jsx)(k.Suspense,{fallback:null,children:(0,e.jsx)(q,{})})})},s=function(){return(0,e.jsx)(f.W,{height:"100%",children:(0,e.jsx)(r,{})})}},5508:function(c,a,b){"use strict";b.d(a,{u:function(){return d}});var d="/showroom/r3f-playground"}},function(a){a.O(0,[737,527,135,774,888,179],function(){return a(a.s=5043)}),_N_E=a.O()}])
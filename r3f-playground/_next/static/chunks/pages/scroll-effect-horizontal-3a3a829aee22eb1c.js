(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{9212:function(e,t,n){"use strict";n.d(t,{E:function(){return f}});var r=n(7462),o=n(7294),s=n(2212),c=n(9251),i=n(9137);const l=e=>e===Object(e)&&!Array.isArray(e)&&"function"!==typeof e;function a(e){const t=(0,c.Ky)((e=>e.gl)),n=(0,c.U2)(s.TextureLoader,l(e)?Object.values(e):e);if((0,o.useEffect)((()=>{(Array.isArray(n)?n:[n]).forEach(t.initTexture)}),[t,n]),l(e)){const t=Object.keys(e),r={};return t.forEach((e=>Object.assign(r,{[e]:n[t.indexOf(e)]}))),r}return n}a.preload=e=>c.U2.preload(s.TextureLoader,e),a.clear=e=>c.U2.clear(s.TextureLoader,e);const u=(0,i.g)({color:new s.Color("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0},"\n  varying vec2 vUv;\n  void main() {\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n    vUv = uv;\n  }\n","\n  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\n  varying vec2 vUv;\n  uniform vec2 scale;\n  uniform vec2 imageBounds;\n  uniform vec3 color;\n  uniform sampler2D map;\n  uniform float zoom;\n  uniform float grayscale;\n  const vec3 luma = vec3(.299, 0.587, 0.114);\n  vec4 toGrayscale(vec4 color, float intensity) {\n    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\n  }\n  vec2 aspect(vec2 size) {\n    return size / min(size.x, size.y);\n  }\n  void main() {\n    vec2 s = aspect(scale);\n    vec2 i = aspect(imageBounds);\n    float rs = s.x / s.y;\n    float ri = i.x / i.y;\n    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\n    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\n    vec2 uv = vUv * s / new + offset;\n    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\n    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, 1.0), grayscale);\n  }\n"),f=o.forwardRef((({children:e,color:t,segments:n=1,scale:s=1,zoom:i=1,grayscale:l=0,url:f,...d},v)=>{(0,c.l7)({ImageMaterial:u});const m=a(f),p=Array.isArray(s)?[s[0],s[1]]:[s,s],h=[m.image.width,m.image.height];return o.createElement("mesh",(0,r.Z)({ref:v,scale:s},d),o.createElement("planeGeometry",{args:[1,1,n,n]}),o.createElement("imageMaterial",{color:t,map:m,zoom:i,grayscale:l,scale:p,imageBounds:h}),e)}))},9137:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var r=n(2212);function o(e,t,n,o){return class extends r.ShaderMaterial{constructor(){const s=Object.entries(e);super({uniforms:s.reduce(((e,[t,n])=>({...e,...r.UniformsUtils.clone({[t]:{value:n}})})),{}),vertexShader:t,fragmentShader:n}),s.forEach((([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t}))),o&&o(this)}}}},1758:function(e,t,n){"use strict";n.d(t,{Xs:function(){return m},Fq:function(){return f},vO:function(){return u}});var r=n(7462),o=n(2212),s=n(7294),c=n(3935),i=n(9251),l=n(5878);const a=s.createContext(null);function u(){return s.useContext(a)}function f({eps:e=1e-5,enabled:t=!0,infinite:n,horizontal:r,pages:c=1,distance:l=1,damping:u=4,children:f}){const{gl:d,size:v,invalidate:m,events:p,raycaster:h}=(0,i.Ky)(),[y]=s.useState((()=>document.createElement("div"))),[g]=s.useState((()=>document.createElement("div"))),[x]=s.useState((()=>document.createElement("div"))),b=d.domElement.parentNode,w=s.useRef(0),O=s.useMemo((()=>({el:y,eps:e,fill:g,fixed:x,horizontal:r,damping:u,offset:0,delta:0,scroll:w,pages:c,range(e,t,n=0){const r=e-n,o=r+t+2*n;return this.offset<r?0:this.offset>o?1:(this.offset-r)/(o-r)},curve(e,t,n=0){return Math.sin(this.range(e,t,n)*Math.PI)},visible(e,t,n=0){const r=e-n,o=r+t+2*n;return this.offset>=r&&this.offset<=o}})),[e,u,r,c]);s.useEffect((()=>{y.style.position="absolute",y.style.width="100%",y.style.height="100%",y.style[r?"overflowX":"overflowY"]="auto",y.style[r?"overflowY":"overflowX"]="hidden",y.style.top="0px",y.style.left="0px",x.style.position="sticky",x.style.top="0px",x.style.left="0px",x.style.width="100%",x.style.height="100%",x.style.overflow="hidden",y.appendChild(x),g.style.height=r?"100%":c*l*100+"%",g.style.width=r?c*l*100+"%":"100%",g.style.pointerEvents="none",y.appendChild(g),b.appendChild(y),y[r?"scrollLeft":"scrollTop"]=1;const e="boolean"!==typeof p.connected?p.connected:d.domElement;requestAnimationFrame((()=>null==p.connect?void 0:p.connect(y)));const t=h.computeOffsets;return h.computeOffsets=({clientX:e,clientY:t})=>({offsetX:e-b.offsetLeft,offsetY:t-b.offsetTop}),()=>{b.removeChild(y),h.computeOffsets=t,null==p.connect||p.connect(e)}}),[c,l,r,y,g,x,b]),s.useEffect((()=>{const e=v[r?"width":"height"],o=y[r?"scrollWidth":"scrollHeight"],s=o-e;let c=0,i=!0,l=!0;const a=e=>{if(t&&!l&&(m(),c=y[r?"scrollLeft":"scrollTop"],w.current=c/s,n)){if(!i)if(c>=s){const e=1-O.offset;y[r?"scrollLeft":"scrollTop"]=1,w.current=O.offset=-e,i=!0}else if(c<=0){const e=1+O.offset;y[r?"scrollLeft":"scrollTop"]=o,w.current=O.offset=e,i=!0}i&&setTimeout((()=>i=!1),40)}};y.addEventListener("scroll",a,{passive:!0}),requestAnimationFrame((()=>l=!1));const u=e=>y.scrollLeft+=e.deltaY/2;return r&&y.addEventListener("wheel",u,{passive:!0}),()=>{y.removeEventListener("scroll",a),r&&y.removeEventListener("wheel",u)}}),[y,v,n,O,m,r]);let E=0;return(0,i.xQ)(((t,n)=>{O.offset=o.MathUtils.damp(E=O.offset,w.current,u,n),O.delta=o.MathUtils.damp(O.delta,Math.abs(E-O.offset),u,n),O.delta>e&&m()})),s.createElement(a.Provider,{value:O},f)}const d=s.forwardRef((({children:e},t)=>{const n=s.useRef(null),r=u(),{width:o,height:c}=(0,i.Ky)((e=>e.viewport));return(0,i.xQ)((()=>{n.current.position.x=r.horizontal?-o*(r.pages-1)*r.offset:0,n.current.position.y=r.horizontal?0:c*(r.pages-1)*r.offset})),s.createElement("group",{ref:(0,l.Z)([t,n])},e)})),v=s.forwardRef((({children:e,style:t,...n},o)=>{const f=u(),d=s.useRef(null),{width:v,height:m}=(0,i.Ky)((e=>e.size)),p=s.useContext(i.Do);return(0,i.xQ)((()=>{f.delta>f.eps&&(d.current.style.transform=`translate3d(${f.horizontal?-v*(f.pages-1)*f.offset:0}px,${f.horizontal?0:m*(f.pages-1)*-f.offset}px,0)`)})),c.render(s.createElement("div",(0,r.Z)({ref:(0,l.Z)([o,d]),style:{...t,position:"absolute",top:0,left:0,willChange:"transform"}},n),s.createElement(a.Provider,{value:f},s.createElement(i.Do.Provider,{value:p},e))),f.fixed),null})),m=s.forwardRef((({html:e,...t},n)=>{const o=e?v:d;return s.createElement(o,(0,r.Z)({ref:n},t))}))},4148:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scroll-effect-horizontal",function(){return n(6870)}])},4569:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(5893),o=n(949),s=n(3236);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e){var t=(0,o.If)().colorMode;return(0,r.jsx)(s.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({bg:{light:"gray.50",dark:"gray.700"}[t],color:{light:"black",dark:"white"}[t]},e))}},6870:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(5893),o=n(4569),s=n(1758),c=n(9212),i=n(9251),l=n(7294),a=n(2212),u=n(2228);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v=a.MathUtils.damp,m=[1,2,3,4,5,6,7,8,9,10,11,12,1,5,7,8,2,4,9,6].map((function(e){return"".concat(u.u,"/img/scroll-effect-horizontal/").concat(e,".jpg")}));function p(e){var t=e.index,n=e.position,o=e.scale,u=e.c,p=void 0===u?new a.Color:u,h=d(e,["index","position","scale","c"]),y=(0,l.useRef)(),g=(0,s.vO)(),x=(0,l.useState)(!1),b=x[0],w=x[1];return(0,i.xQ)((function(e,n){var r,s=Math.sin(g.range(t/m.length-.08,4/m.length)*Math.PI);y.current.material.scale[1]=y.current.scale.y=v(y.current.scale.y,4+s,8,n),y.current.material.scale[0]=y.current.scale.x=v(y.current.scale.x,o[0],6,n),y.current.material.grayscale=v(y.current.material.grayscale,b?0:Math.max(0,1-s),6,n),null===(r=y.current.material.color)||void 0===r||r.lerp(p.set(b?"white":"#ccc"),b?.3:.1)})),(0,r.jsx)(c.E,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({ref:y},h,{position:n,scale:o,onPointerOver:function(){return w(!0)},onPointerOut:function(){return w(!1)}}))}function h(e){var t=e.w,n=void 0===t?.7:t,o=e.gap,c=void 0===o?.15:o,l=(0,i.Ky)((function(e){return e.viewport})).width,a=n+c;return(0,r.jsx)(s.Fq,{horizontal:!0,damping:6,pages:(l-a+m.length*a)/l,children:(0,r.jsx)(s.Xs,{children:m.map((function(e,t){return(0,r.jsx)(p,{index:t,position:[t*a,0,0],scale:[n,4,1],url:e},t)}))})})}var y=function(){return(0,r.jsx)(i.Xz,{gl:{antialias:!1},dpr:[1,1.5],children:(0,r.jsx)(l.Suspense,{fallback:null,children:(0,r.jsx)(h,{})})})},g=function(){return(0,r.jsx)(o.W,{height:"100%",children:(0,r.jsx)(y,{})})}},2228:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var r="/showroom/r3f-playground"}},function(e){e.O(0,[737,236,251,774,888,179],(function(){return t=4148,e(e.s=t);var t}));var t=e.O();_N_E=t}]);